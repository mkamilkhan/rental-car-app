{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import'./CarDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CarDetails=()=>{const{id}=useParams();const navigate=useNavigate();const[car,setCar]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchCarDetails();},[id]);const fetchCarDetails=async()=>{try{const response=await axios.get(\"/api/cars/\".concat(id));setCar(response.data);}catch(error){console.error('Error fetching car details:',error);}finally{setLoading(false);}};const handleBookNow=()=>{// Users can book without login - directly navigate to booking form\nnavigate(\"/booking/\".concat(id));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading car details...\"});}if(!car){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"Car not found\"});}console.log(car,'imag');return/*#__PURE__*/_jsx(\"div\",{className:\"car-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-link\",children:\"\\u2190 Back to Home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"car-details-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"car-image-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"car-image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:3000/\".concat(car.image),alt:car.name}),car.available?/*#__PURE__*/_jsx(\"span\",{className:\"availability-badge-large available\",children:\"\\u2713 Available Now\"}):/*#__PURE__*/_jsx(\"span\",{className:\"availability-badge-large unavailable\",children:\"\\u2717 Currently Not Available\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"car-info-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"car-title-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:car.name}),car.available?/*#__PURE__*/_jsx(\"span\",{className:\"availability-status available\",children:\"Available\"}):/*#__PURE__*/_jsx(\"span\",{className:\"availability-status unavailable\",children:\"Not Available\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"car-subtitle\",children:[car.brand,\" \",car.model,\" \\u2022 \",car.year]}),/*#__PURE__*/_jsxs(\"div\",{className:\"car-specs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"spec-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spec-label\",children:\"Seats\"}),/*#__PURE__*/_jsx(\"span\",{className:\"spec-value\",children:car.seats})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"spec-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spec-label\",children:\"Transmission\"}),/*#__PURE__*/_jsx(\"span\",{className:\"spec-value\",children:car.transmission})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"spec-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spec-label\",children:\"Fuel Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"spec-value\",children:car.fuelType})]})]}),car.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"car-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:car.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rental Pricing\"}),car.price60min&&/*#__PURE__*/_jsxs(\"div\",{className:\"price-option\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-duration\",children:\"60 min\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-amount\",children:[car.price60min,\" \",car.currency||'AED']})]}),car.price30min&&/*#__PURE__*/_jsxs(\"div\",{className:\"price-option\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-duration\",children:\"30 min\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-amount\",children:[car.price30min,\" \",car.currency||'AED']})]}),!car.price30min&&!car.price60min&&/*#__PURE__*/_jsxs(\"div\",{className:\"price-option\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-duration\",children:\"Per Day\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-amount\",children:[car.pricePerDay,\" \",car.currency||'AED']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-section\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBookNow,className:\"btn btn-primary btn-large \".concat(!car.available?'btn-disabled':''),disabled:!car.available,children:car.available?'Book Now':'Not Available for Booking'}),!car.available&&/*#__PURE__*/_jsx(\"p\",{className:\"unavailable-message\",children:\"This vehicle is currently not available. Please check back later or contact us for availability.\"})]})]})]})]})});};export default CarDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","CarDetails","id","navigate","car","setCar","loading","setLoading","fetchCarDetails","response","get","concat","data","error","console","handleBookNow","className","children","log","to","src","image","alt","name","available","brand","model","year","seats","transmission","fuelType","description","price60min","currency","price30min","pricePerDay","onClick","disabled"],"sources":["/Users/EAPPLE/Desktop/dejavuadventure/client/src/pages/CarDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './CarDetails.css';\n\nconst CarDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [car, setCar] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchCarDetails();\n  }, [id]);\n\n  const fetchCarDetails = async () => {\n    try {\n      const response = await axios.get(`/api/cars/${id}`);\n      setCar(response.data);\n    } catch (error) {\n      console.error('Error fetching car details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBookNow = () => {\n    // Users can book without login - directly navigate to booking form\n    navigate(`/booking/${id}`);\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading car details...</div>;\n  }\n\n  if (!car) {\n    return <div className=\"container\">Car not found</div>;\n  }\nconsole.log(car,'imag')\n  return (\n    <div className=\"car-details\">\n      <div className=\"container\">\n        <Link to=\"/\" className=\"back-link\">← Back to Home</Link>\n        <div className=\"car-details-content\">\n          <div className=\"car-image-section\">\n            <div className=\"car-image-wrapper\">\n            <img\n  src={`http://localhost:3000/${car.image}`}\n  alt={car.name}\n/>\n\n              {car.available ? (\n                <span className=\"availability-badge-large available\">✓ Available Now</span>\n              ) : (\n                <span className=\"availability-badge-large unavailable\">✗ Currently Not Available</span>\n              )}\n            </div>\n          </div>\n          <div className=\"car-info-section\">\n            <div className=\"car-title-section\">\n              <h1>{car.name}</h1>\n              {car.available ? (\n                <span className=\"availability-status available\">Available</span>\n              ) : (\n                <span className=\"availability-status unavailable\">Not Available</span>\n              )}\n            </div>\n            <p className=\"car-subtitle\">{car.brand} {car.model} • {car.year}</p>\n            <div className=\"car-specs\">\n              <div className=\"spec-item\">\n                <span className=\"spec-label\">Seats</span>\n                <span className=\"spec-value\">{car.seats}</span>\n              </div>\n              <div className=\"spec-item\">\n                <span className=\"spec-label\">Transmission</span>\n                <span className=\"spec-value\">{car.transmission}</span>\n              </div>\n              <div className=\"spec-item\">\n                <span className=\"spec-label\">Fuel Type</span>\n                <span className=\"spec-value\">{car.fuelType}</span>\n              </div>\n            </div>\n            {car.description && (\n              <div className=\"car-description\">\n                <h3>Description</h3>\n                <p>{car.description}</p>\n              </div>\n            )}\n            <div className=\"pricing-section\">\n              <h3>Rental Pricing</h3>\n              {car.price60min && (\n                <div className=\"price-option\">\n                  <span className=\"price-duration\">60 min</span>\n                  <span className=\"price-amount\">{car.price60min} {car.currency || 'AED'}</span>\n                </div>\n              )}\n              {car.price30min && (\n                <div className=\"price-option\">\n                  <span className=\"price-duration\">30 min</span>\n                  <span className=\"price-amount\">{car.price30min} {car.currency || 'AED'}</span>\n                </div>\n              )}\n              {!car.price30min && !car.price60min && (\n                <div className=\"price-option\">\n                  <span className=\"price-duration\">Per Day</span>\n                  <span className=\"price-amount\">{car.pricePerDay} {car.currency || 'AED'}</span>\n                </div>\n              )}\n            </div>\n            <div className=\"booking-section\">\n              <button\n                onClick={handleBookNow}\n                className={`btn btn-primary btn-large ${!car.available ? 'btn-disabled' : ''}`}\n                disabled={!car.available}\n              >\n                {car.available ? 'Book Now' : 'Not Available for Booking'}\n              </button>\n              {!car.available && (\n                <p className=\"unavailable-message\">\n                  This vehicle is currently not available. Please check back later or contact us for availability.\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CarDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}